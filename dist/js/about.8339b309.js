(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"02f4":function(t,e,a){var s=a("4588"),n=a("be13");t.exports=function(t){return function(e,a){var i,o,r=String(n(e)),l=s(a),c=r.length;return l<0||l>=c?t?"":void 0:(i=r.charCodeAt(l),i<55296||i>56319||l+1===c||(o=r.charCodeAt(l+1))<56320||o>57343?t?r.charAt(l):i:t?r.slice(l,l+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,a){"use strict";var s=a("02f4")(!0);t.exports=function(t,e,a){return e+(a?s(t,e).length:1)}},"0a49":function(t,e,a){var s=a("9b43"),n=a("626a"),i=a("4bf8"),o=a("9def"),r=a("cd1c");t.exports=function(t,e){var a=1==t,l=2==t,c=3==t,d=4==t,u=6==t,p=5==t||u,v=e||r;return function(e,r,f){for(var m,h,g=i(e),b=n(g),_=s(r,f,3),C=o(b.length),y=0,S=a?v(e,C):l?v(e,0):void 0;C>y;y++)if((p||y in b)&&(m=b[y],h=_(m,y,g),t))if(a)S[y]=h;else if(h)switch(t){case 3:return!0;case 5:return m;case 6:return y;case 2:S.push(m)}else if(d)return!1;return u?-1:c||d?d:S}}},"0bfb":function(t,e,a){"use strict";var s=a("cb7c");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0c8e":function(t,e,a){},1169:function(t,e,a){var s=a("2d95");t.exports=Array.isArray||function(t){return"Array"==s(t)}},1893:function(t,e,a){},"1cb6":function(t,e,a){},"20d6":function(t,e,a){"use strict";var s=a("5ca1"),n=a("0a49")(6),i="findIndex",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),s(s.P+s.F*o,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},"214f":function(t,e,a){"use strict";a("b0c5");var s=a("2aba"),n=a("32e9"),i=a("79e5"),o=a("be13"),r=a("2b4c"),l=a("520a"),c=r("species"),d=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(t,e,a){var p=r(t),v=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),f=v?!i((function(){var e=!1,a=/a/;return a.exec=function(){return e=!0,null},"split"===t&&(a.constructor={},a.constructor[c]=function(){return a}),a[p](""),!e})):void 0;if(!v||!f||"replace"===t&&!d||"split"===t&&!u){var m=/./[p],h=a(o,p,""[t],(function(t,e,a,s,n){return e.exec===l?v&&!n?{done:!0,value:m.call(e,a,s)}:{done:!0,value:t.call(a,e,s)}:{done:!1}})),g=h[0],b=h[1];s(String.prototype,t,g),n(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},2469:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"content-container"},[a("b-modal",{ref:"confirm-modal",attrs:{"hide-footer":"",title:"Using Component Methods"}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("You have already entered this conflict do you want to continue?")])]),a("b-button",{staticClass:"mt-3 btn btn-primary btn-block",attrs:{block:""},on:{click:t.submitForce}},[t._v("Confirm")]),a("b-button",{staticClass:"mt-2 btn btn-primary btn-block",attrs:{block:""},on:{click:t.hideConfirmModal}},[t._v("Cancel")])],1),a("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[a("h5",{staticClass:"modal-title",attrs:{id:"confirmModalLabel"}},[t._v("Confirm Override")]),a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("b-form-group",{attrs:{state:t.nameState,label:"Please provide a brief explanation of the conflict, and the action taken","label-for":"body-input","invalid-feedback":"body is required"}},[a("b-form-textarea",{staticClass:"mt-3",attrs:{id:"textarea-rows",state:t.nameState,required:"",rows:"8"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],1),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("b-button",{attrs:{type:"submit",variant:"primary",block:""}},[t._v("SAVE AND CONTINUE")])],1)])])],1)]),a("div",{staticClass:"container-fluid d-flex h-100 flex-column pt-0 pb-3"},[a("div",{staticClass:"row flex-grow-1 pt-5"},[a("div",{staticClass:"col-12"},[a("h5",[t._v("VAPP EXPIRED")]),a("p",{domProps:{innerHTML:t._s(t.additionalInfo)}})])]),a("b-row",{staticClass:"justify-content-center"},[a("b-col",{staticClass:"col-10"},[t.disableReportBtn?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"btn btn-block btn-light",attrs:{disabled:""}},[t._v("CONFIRM OVERRIDE")]):a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"btn btn-block btn-light"},[t._v("CONFIRM OVERRIDE")])],1),t.online?a("b-col",{staticClass:"col-10 mt-3"},[a("b-button",{staticClass:"btn btn-block btn-light",attrs:{id:"syncBtn"},on:{click:t.runBackgroundTasks}},[t._v("Sync")])],1):t._e()],1),a("div",{staticClass:"row mt-2"},[a("FlashMessage",{staticClass:"flashmessage"}),!0===t.vappnotfound?a("b-alert",{staticClass:"mb-0",staticStyle:{width:"100% !important"},attrs:{show:"",variant:"danger"}},[a("h4",{staticClass:"alert-heading"},[t._v(t._s(t.vappinfo))]),a("h6",[t._v("\n               "+t._s(t.vappsearchdetail)+"\n             ")])]):t._e(),!0===t.reportconflictfound?a("b-alert",{staticClass:"mb-0",staticStyle:{width:"100% !important"},attrs:{show:"",variant:"danger"}},[a("h6",[t._v("\n               "+t._s(t.vappinfo)+"\n             ")])]):t._e(),!0===t.reportconflictfoundgreen?a("b-alert",{staticClass:"mb-0",staticStyle:{width:"100% !important"},attrs:{show:"",variant:"success"}},[a("h6",[t._v("\n               "+t._s(t.vappinfo)+"\n             ")])]):t._e()],1)],1),a("ul",{staticClass:"nav nav-bottom fixed-bottom nav-pills nav-justified"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.goToEvents}},[a("i",{staticClass:"fas fa-search icon"}),a("span",{staticClass:"text"},[t._v("Search")])])]),t._m(0),t._m(1)])],1),a("div",{ref:"logoutmodal",staticClass:"modal fade",attrs:{id:"logoutModal",tabindex:"-1",role:"dialog","aria-labelledby":"logoutModalLabel","aria-hidden":"false"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("h5",{staticClass:"modal-title",attrs:{id:"logoutModalLabel"}},[t._v("Log Out")]),a("p",[t._v("You are logging out of VAPP.")]),a("div",{staticClass:"form"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("Log Out")])])])]),t._m(2)])])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link",attrs:{to:"/#/info"}},[a("i",{staticClass:"fas fa-info-circle icon"}),a("span",{staticClass:"text"},[t._v("Info")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal","data-target":"#logoutModal",href:"#logoutModal"}},[a("i",{staticClass:"fas fa-sign-out-alt icon"}),a("span",{staticClass:"text"},[t._v("Logout")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])}],i=(a("ac6a"),a("d16d")),o=a("88a1"),r=(a("c074"),a("e428"),new Date),l=(new Date(r.getFullYear(),r.getMonth(),r.getDate()+1),{data:function(){return{additionalInfo:this.$route.params.additionalInfo,nameState:null,body:"",vappdetails:this.$route.params.vappdetails,reportconflictfound:!1,vappnotfound:!1,reportconflictfoundgreen:!1,isLoading:!1,online:!0,disableReportBtn:!1}},created:function(){this.disableReportBtn=this.$route.params.disableReport,navigator.onLine?this.online=!0:this.online=!1},methods:{logout:function(){var t=this;$("[data-dismiss=modal]").trigger({type:"click"}),i["a"].set("","",""),$("[data-dismiss=modal]").trigger({type:"click"}),Object(o["a"])("/api/logout").then((function(e){e.data.logged_out&&(i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"}))})).catch((function(e){i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"})}))},resetModal:function(){this.body="",this.nameState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this.vappdetails[0].id,e=JSON.parse(localStorage.getItem("backgroundConflictTasks")),a=!1;e&&e.forEach((function(e,s){null!=e&&e.vapp_id==t&&(a=!0)})),a?this.$refs["confirm-modal"].show():this.submitForce()},goToEvents:function(){this.$router.push({name:"Events"})},hideConfirmModal:function(){var t=this;this.$refs["confirm-modal"].hide(),this.$refs["modal"].hide(),setTimeout((function(){return t.$router.push({name:"Search",params:{com_name:t.$route.params.com_name,event_id:t.$route.params.event_id,additionalInfo:t.$route.params.additionalInfo,event_name:t.$route.params.event_name,compound_id:t.$route.params.compound_id}})}),1e3)},submitForce:function(){var t=this,e=this.vappdetails[0].event_id,a=this.$route.params.compound_id,s=this.vappdetails[0].id;this.vappdetails[0].team_id,this.vappdetails[0].user_id;if(navigator.onLine)Object(o["a"])("/api/vapp/reportconflict/"+e+"/"+a+"/"+s+"/"+this.body).then((function(n){200==n.data.status?(t.reportconflictfoundgreen=!0,t.vappinfo="Override Reported",t.setConflictCache(e,a,s,t.body)):(t.setConflictCache(e,a,s,t.body),t.reportconflictfoundgreen=!0,t.vappinfo="Override Reported"),t.isProcessing=!1,t.$refs["confirm-modal"].hide(),t.$refs["modal"].hide(),setTimeout((function(){return t.$router.push({name:"Search",params:{com_name:t.$route.params.com_name,event_id:t.$route.params.event_id,additionalInfo:t.$route.params.additionalInfo,event_name:t.$route.params.event_name,compound_id:t.$route.params.compound_id}})}),1e3)})).catch((function(n){422===n.status&&n.response&&(t.error=n.response.data.ErrorMessage,422==n.response.data.status&&(t.vappnotfound=!0,t.vappinfo="Override Reported",t.setConflictCache(e,a,s,t.body)),t.flashMessage.error({title:"Error",message:n.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}})),t.isProcessing=!1,t.$refs["confirm-modal"].hide(),t.$refs["modal"].hide(),setTimeout((function(){return t.$router.push({name:"Search",params:{com_name:t.$route.params.com_name,event_id:t.$route.params.event_id,additionalInfo:t.$route.params.additionalInfo,event_name:t.$route.params.event_name,compound_id:t.$route.params.compound_id}})}),1e3)}));else{var n=JSON.parse(localStorage.getItem("backgroundConflictTasks"));if(n){var i=!1;n.forEach((function(t,n){null!=t&&t.event_id==e&&t.compound_id==a&&t.vapp_id==s&&(i=!0)})),i?(this.reportconflictfoundgreen=!0,this.vappinfo="Override Reported",this.setConflictCache(e,a,s,this.body)):(this.setConflictCache(e,a,s,this.body),this.reportconflictfoundgreen=!0,this.vappinfo="Override Reported")}else this.setConflictCache(e,a,s,this.body),this.reportconflictfoundgreen=!0,this.vappinfo="Override Reported";this.$refs["confirm-modal"].hide(),this.$refs["modal"].hide(),setTimeout((function(){return t.$router.push({name:"Search",params:{com_name:t.$route.params.com_name,event_id:t.$route.params.event_id,additionalInfo:t.$route.params.additionalInfo,event_name:t.$route.params.event_name,compound_id:t.$route.params.compound_id}})}),1e3)}},setConflictCache:function(t,e,a,s){var n={event_id:t,compound_id:e,vapp_id:a,body:s,status:"N"},i=JSON.parse(localStorage.getItem("backgroundConflictTasks"));i?(console.log("existed conflict background"),i[a]=n):(console.log("new conflict background"),i=[],i[a]=n),localStorage.setItem("backgroundConflictTasks",JSON.stringify(i))},runBackgroundTasks:function(){var t=this;if(navigator.onLine){if(document.getElementById("syncBtn").innerHTML="Syncing...",localStorage.getItem("backgroundTasks")){var e=JSON.parse(localStorage.getItem("backgroundTasks"));e.length>0&&e.forEach((function(t,a){null!=t&&Object(o["a"])("/api/vapp/vapp_compound_status/"+e[a].event_id+"/"+e[a].compound_id+"/"+e[a].vapp_id+"/"+e[a].body+"/"+e[a].vapp_compound_status).then((function(t){200!=t.data.status&&422!=t.data.status||(e[a]=null,localStorage.setItem("backgroundTasks",JSON.stringify(e)))})).catch((function(t){}))}))}if(setTimeout(function(){}.bind(this),1e3),localStorage.getItem("backgroundConflictTasks")){var a=JSON.parse(localStorage.getItem("backgroundConflictTasks"));a.length>0&&a.forEach((function(t,e){null!=t&&"N"==a[e].status&&Object(o["a"])("/api/vapp/reportconflict/"+a[e].event_id+"/"+a[e].compound_id+"/"+a[e].vapp_id+"/"+a[e].body).then((function(t){200!=t.data.status&&422!=t.data.status||(a[e].status="Y",localStorage.setItem("backgroundConflictTasks",JSON.stringify(a)))})).catch((function(t){}))}))}setTimeout(function(){}.bind(this),1e3),Object(o["a"])("/api/vapp/vappalldetails").then((function(t){localStorage.setItem("vappalldetails",JSON.stringify(t.data))})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}})})),setTimeout(function(){document.getElementById("syncBtn").innerHTML="Synced"}.bind(this),1e3),localStorage.getItem("events")&&function(){for(var t=JSON.parse(localStorage.getItem("events")),e=function(e){Object(o["a"])("/api/vapp/getcompoundsofevent/"+t[e].id).then((function(a){var s=a.data,n="comp#"+t[e].id;localStorage.setItem(n,JSON.stringify(a.data));for(var i=function(a){Object(o["a"])("/api/vapp/cache/"+t[e].id+"/"+s[a].id).then((function(n){var i="vapps#"+t[e].id+"=>com"+s[a].id;localStorage.setItem(i,JSON.stringify(n.data))})).catch((function(t){}))},r=0;r<s.length;r++)i(r)})).catch((function(t){}))},a=0;a<t.length;a++)e(a)}()}}}}),c=l,d=(a("70be"),a("2877")),u=Object(d["a"])(c,s,n,!1,null,"532a4af5",null);e["default"]=u.exports},"2af9":function(t,e,a){},"2d3b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"content-container"},[a("FlashMessage",{staticClass:"flashmessage",attrs:{position:"right top"}}),a("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[a("h5",{staticClass:"modal-title",attrs:{id:"confirmModalLabel"}},[t._v("Confirm Override")]),a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("b-form-group",{attrs:{state:t.nameState,label:"Override has been saved. Please provide a brief explanation of the conflict, and the action taken","label-for":"body-input","invalid-feedback":"body is required"}},[a("b-form-textarea",{staticClass:"mt-3",attrs:{id:"textarea-rows",state:t.nameState,required:"",rows:"8"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],1),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("b-button",{attrs:{type:"submit",variant:"primary",block:""}},[t._v("SAVE AND CONTINUE")])],1)])])],1)]),1==t.searchvapp?a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row my-3 justify-content-center"},[a("div",{staticClass:"col-11 px-0 py-4"},[a("div",{staticClass:"row row-data"},[t._m(0),a("div",{staticClass:"col-6 text-right"},[t._v("\n                            "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].event_code:"")+"\n                            ")])]),a("div",{staticClass:"row row-data"},[t._m(1),a("div",{staticClass:"col-6 text-right"},[t._v("\n                            "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].vapp_sn:"")+"\n                            ")])]),a("div",{staticClass:"row row-data"},[t._m(2),a("div",{staticClass:"col-6 text-right"},[t._v("\n                              "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].id:"")+"\n                            ")])]),t._m(3),a("div",{staticClass:"row row-data"},[t._m(4),a("div",{staticClass:"col-6 text-right"},[t._v("\n                            "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].valid_from:"")+"\n                            ")])]),a("div",{staticClass:"row row-data"},[t._m(5),a("div",{staticClass:"col-6 text-right"},[t._v("\n                              "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].valid_to:"")+"\n                            ")])]),t._m(6),a("div",{staticClass:"row row-data"},[t._m(7),a("div",{staticClass:"col-6 text-right"},[t._v("\n                              "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].driver_name:"")+"\n                            ")])]),a("div",{staticClass:"row row-data"},[t._m(8),a("div",{staticClass:"col-6 text-right"},[t._v("\n                              "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].original_replacement:"")+"\n                            ")])]),a("div",{staticClass:"row row-data"},[t._m(9),a("div",{staticClass:"col-6 text-right"},[t._v("\n                              "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].vehicle_index_number:"")+"\n                            ")])]),a("div",{staticClass:"row row-data"},[t._m(10),a("div",{staticClass:"col-6 text-right"},[t._v("\n                              "+t._s(null!=t.vappdetails[0]?t.vappdetails[0].vapp_sn:"")+"\n                            ")])]),t._m(11),null!=t.vappdetails[0]?a("b-row",{staticClass:"justify-content-center"},[1==t.vappdetails[0].vapp_compound_status&&t.vappdetails[0].vapp_compound_id==t.$route.params.compound_id?a("b-col",{staticClass:"col-10 mb-4"},[a("b-button",{attrs:{block:"",variant:"primary",id:"exitBtn"},on:{click:t.vapp_compound_status}},[t._v("Confirm Exit")])],1):0==t.vappdetails[0].vapp_compound_status||null==t.vappdetails[0].vapp_compound_status?a("b-col",{staticClass:"col-10 mb-4"},[a("b-button",{attrs:{block:"",variant:"primary",id:"entryBtn"},on:{click:t.vapp_compound_status}},[t._v("Confirm Entry")])],1):t._e(),a("b-col",{staticClass:"col-10"},[a("b-button",{staticClass:"btn btn-block btn-light",on:{click:t.goToInfo}},[t._v("Report Conflict")])],1)],1):t._e(),a("div",{staticClass:"row mt-3",attrs:{id:"vappEnterView"}},[!0===t.vappEnter?a("div",{staticStyle:{width:"100%","text-align":"center"}},[a("b-alert",{attrs:{show:"",variant:"success"}},[a("h6",{staticClass:"alert-heading"},[t._v(t._s(t.vappinfo))])])],1):t._e()])],1)])]):t._e(),0==t.searchvapp?a("div",{staticClass:"flex-grow-1 justify-content-center d-flex flex-column h-100"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"row topEventName mt-n5"},[t._v("\n                          "+t._s(this.event_name)+"\n                        ")]),a("div",{staticClass:"col-11 mb-5 t-center"},[a("p",[t._v(t._s(this.com_name))])]),a("div",{staticClass:"col-11"},[a("div",{staticClass:"form-group mb-4"},[a("label",{attrs:{for:"vapp search"}},[t._v("Registration/Vapp Number\n                            ")]),a("autocomplete",{ref:"vappsearch",attrs:{search:t.search,placeholder:"","aria-label":"Registration/Vapp Number"},on:{keyup:t.keymonitor}})],1),a("div",{staticClass:"form-group mb-4"},[a("label",{attrs:{for:"vapp name phone search"}},[t._v("Name/Phone Number")]),a("autocomplete",{ref:"vappnamephone",attrs:{search:t.searchnamephone,placeholder:"","aria-label":"Name/Phone Number"},on:{keyup:t.keymonitor}})],1),a("div",{staticClass:"form-group mb-4"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-10"},[a("b-button",{attrs:{id:"btnSearchForVapp",block:"",variant:"primary"},on:{click:t.getvapp}},[t._v("Search")])],1)])])])]),!0===t.vappnotfound?a("div",[a("b-alert",{attrs:{show:"",variant:"danger"}},[a("h4",{staticClass:"alert-heading"},[t._v(t._s(t.vappinfo))]),a("h6",[t._v("\n                            "+t._s(t.vappsearchdetail)+"\n                          ")])])],1):t._e(),!0===t.reportconflictfound?a("div",[a("b-alert",{attrs:{show:"",variant:"danger"}},[a("h6",[t._v("\n                            "+t._s(t.vappinfo)+"\n                          ")])])],1):t._e()])]):t._e(),a("ul",{staticClass:"nav nav-bottom fixed-bottom nav-pills nav-justified"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.goToEvents}},[a("i",{staticClass:"fas fa-search icon"}),a("span",{staticClass:"text"},[t._v("Search")])])]),a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled",attrs:{id:"infoMenu"},on:{click:t.goToInfo}},[a("i",{staticClass:"fas fa-info-circle icon"}),a("span",{staticClass:"text"},[t._v("Info")])])]),t._m(12)])],1),a("div",{staticClass:"modal fade",attrs:{id:"logoutModal",tabindex:"-1",role:"dialog","aria-labelledby":"logoutModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("h5",{staticClass:"modal-title",attrs:{id:"logoutModalLabel"}},[t._v("Log Out")]),a("p",[t._v("You are logging out of VAPP.")]),a("div",{staticClass:"form"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("Log Out")])])])]),t._m(13)])])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                              Event Name:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                              Compound Info:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                                Status:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("hr")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                              Valid from:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                                Valid to:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("hr")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                                Driver Name(s):\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                                Vehicle Info:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                                Reg Number:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("label",[a("strong",[t._v("\n                                VAPP Code:\n                              ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("hr")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal","data-target":"#logoutModal",href:"#logoutModal"}},[a("i",{staticClass:"fas fa-sign-out-alt icon"}),a("span",{staticClass:"text"},[t._v("Logout")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])}],i=(a("386d"),a("20d6"),a("6762"),a("2fdb"),a("f559"),a("ac6a"),a("d16d")),o=a("88a1"),r=a("c074"),l=new Date,c=(new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),{data:function(){return{form:{email:"",password:""},reportconflictfound:!1,vappnotfound:!1,isLoading:!1,fullPage:!0,searchvapp:!1,myIcon:r["f"],myIcon1:r["d"],myIcon2:r["e"],error:{},name:"",body:"",nameState:null,submittedNames:[],vappsearchdetail:"This VAPP has not been found. Search again, or contact base to report a conflict",vappinfo:"",vapps:[],vals:"",vappdetails:[],vehicle_index_number:[],driver_name:[],driver_phone:[],isProcessing:!1,event_name:"",com_name:"",vappEnter:!1}},created:function(){var t=this;if(this.event_name=this.$route.params.event_name,this.com_name=this.$route.params.com_name,this.isProcessing=!0,this.error={},i["a"].state.api_token&&i["a"].state.user_id)if(navigator.onLine)Object(o["a"])("/api/vapp/cache/"+this.$route.params.event_id+"/"+this.$route.params.compound_id).then((function(e){t.vapps=e.data;var a="vapps#"+t.$route.params.event_id+"=>com"+t.$route.params.compound_id;localStorage.setItem(a,JSON.stringify(e.data)),t.vapps.forEach((function(e,a){t.vehicle_index_number.push(e.vehicle_index_number),t.vehicle_index_number.push(e.vapp_sn),t.driver_name.push(e.driver_name),t.driver_name.push(e.driver_phone)})),console.log(t.vapps)})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}}),t.$router.push({path:"/search/"+t.$route.params.event_id})})),this.isProcessing=!1,this.runBackgroundTasks();else{var e="vapps#"+this.$route.params.event_id+"=>com"+this.$route.params.compound_id;localStorage.getItem(e)&&(this.vapps=JSON.parse(localStorage.getItem(e)),this.vapps.forEach((function(e,a){t.vehicle_index_number.push(e.vehicle_index_number),t.vehicle_index_number.push(e.vapp_sn),t.driver_name.push(e.driver_name),t.driver_name.push(e.driver_phone)})),console.log(this.vapps))}else console.log("sorry here"),this.$router.push({path:"/login"})},methods:{search:function(t){return t.length<1?[]:this.vehicle_index_number.filter((function(e){return e.toLowerCase().startsWith(t.toLowerCase())}))},searchnamephone:function(t){return t.length<1?[]:this.driver_name.filter((function(e){return e.toLowerCase().includes(t.toLowerCase())}))},vapp_compound_status:function(){var t=this,e=this.vappdetails[0].event_id,a=this.$route.params.compound_id,s=this.vappdetails[0].id,n=this.vappdetails[0].team_id,i=this.vappdetails[0].user_id,r=this.vappdetails[0].vapp_compound_status;r=null==r||0==r?0:1;var l="The VAPP has been entered into the compound having Event Code = "+this.vappdetails[0].event_code+" and vehicle index number = "+this.vappdetails[0].vehicle_index_number+" If you have any issues please contact the Administrator";if(navigator.onLine)Object(o["a"])("/api/vapp/vapp_compound_status/"+e+"/"+a+"/"+s+"/"+l+"/"+r).then((function(e){if(200==e.data.status)t.vappEnter=!0,t.vappinfo=e.data.SuccessMessage,t.getAllVappsDetails(),document.getElementById("exitBtn").style.backgroundColor="#28A745",document.getElementById("exitBtn").innerHTML="CONFIRMED";else{t.vappEnter=!0,t.vappinfo=e.data.SuccessMessage;var a=document.getElementById("vappEnterView");a.scrollIntoView(),document.getElementById("entryBtn").style.backgroundColor="#78C38B",document.getElementById("entryBtn").innerHTML="CONFIRMED"}t.isProcessing=!1,t.runBackgroundTasks(),setTimeout((function(){return t.searchvapp=!1}),1e3),setTimeout((function(){return t.vappEnter=!1}),1e3)})).catch((function(e){if(422===e.status&&e.response){if(t.error=e.response.data.SuccessMessage,422==e.response.data.status){t.vappEnter=!0,t.vappinfo=response.data.SuccessMessage;var a=document.getElementById("vappEnterView");a.scrollIntoView(),t.getAllVappsDetails(),document.getElementById("entryBtn").style.backgroundColor="#78C38B",document.getElementById("entryBtn").innerHTML="CONFIRMED",t.runBackgroundTasks()}t.flashMessage.error({title:"Error",message:e.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}})}t.isProcessing=!1,setTimeout((function(){return t.searchvapp=!1}),1e3),setTimeout((function(){return t.vappEnter=!1}),1e3)}));else if(localStorage.getItem("vappalldetails")){var c=JSON.parse(localStorage.getItem("vappalldetails")),d=c.filter((function(t,a){return t["event_id"]==e&&t["id"]==s&&t["team_id"]==n&&t["user_id"]==i}));if(d){var u=c.findIndex((function(t){return t.event_id==e&&t.id==s&&t.team_id==n&&t.user_id==i}));1==r?(c[u].vapp_compound_status=0,c[u].vapp_compound_id=a,c[u].compound_id=a,this.vappEnter=!0,this.vappinfo="Your VAPP has been exited successfully from the Compound.",document.getElementById("exitBtn").style.backgroundColor="#28A745",document.getElementById("exitBtn").innerHTML="CONFIRMED"):(console.log("offline exit"),this.vappEnter=!0,this.vappinfo="Your VAPP has been entered successfully in the Compound.",c[u].vapp_compound_status=1,c[u].vapp_compound_id=a,c[u].compound_id=a,document.getElementById("entryBtn").style.backgroundColor="#78C38B",document.getElementById("entryBtn").innerHTML="CONFIRMED"),localStorage.setItem("vappalldetails",JSON.stringify(c))}else this.flashMessage.error({title:"Error",message:"Please try again",time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}});var p={event_id:e,compound_id:a,vapp_compound_id:a,vapp_id:s,team_id:n,user_id:i,body:l,vapp_compound_status:r},v=JSON.parse(localStorage.getItem("backgroundTasks"));v?(console.log("existed background"),null!=v[s]?v[s].vapp_compound_status=r:v[s]=p):(console.log("new background"),v=[],v[s]=p),localStorage.setItem("backgroundTasks",JSON.stringify(v)),setTimeout((function(){return t.searchvapp=!1}),1e3),setTimeout((function(){return t.vappEnter=!1}),1e3)}},getvapp:function(){var t=this,e=this.$route.params.compound_id,a=this.$route.params.event_id;if(this.isProcessing=!0,this.error={},this.$refs.vappsearch.value.length>0&&this.$refs.vappnamephone.value.length>0)this.vappnotfound=!0,this.vappinfo="",this.vappsearchdetail="Please enter either Vehicle Index Number or Driver Name/Phone Number";else if(this.$refs.vappsearch.value.length<1&&this.$refs.vappnamephone.value.length<1)this.vappnotfound=!0,this.vappinfo="",this.vappsearchdetail="Please provide a Registration or VAPP Number";else if(this.$refs.vappsearch.value>""){var s=this.$refs.vappsearch.value;if(document.getElementById("infoMenu").classList.remove("disabled"),navigator.onLine)this.runBackgroundTasks(),Object(o["a"])("/api/vapp/vappdetails/"+this.$refs.vappsearch.value+"/"+a+"/"+e).then((function(e){t.vappdetails=e.data,t.searchvapp=!0,422==e.data.code?(t.searchvapp=!1,t.vappnotfound=!0,t.vappinfo=t.$refs.vappsearch.value):(t.vappnotfound=!1,t.vappinfo=""),t.isProcessing=!1})).catch((function(e){422===e.code&&e.response&&(t.error=e.response.data.error,422==e.response.data.error.code&&(t.vappnotfound=!0,t.vappinfo=t.$refs.vappsearch.value),t.flashMessage.error({title:"Error",message:e.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}})),t.isProcessing=!1}));else if(localStorage.getItem("vappalldetails")){var n=JSON.parse(localStorage.getItem("vappalldetails")),i=n.filter((function(t,e){return t["event_id"]==a&&(t["vehicle_index_number"]==s||t["vapp_sn"]==s||t["driver_name"]==s||t["driver_phone"]==s)}));i.length>0?(this.vappdetails=i,this.searchvapp=!0,this.vappnotfound=!1,this.vappinfo=""):(this.searchvapp=!1,this.vappinfo="No Matching VAPP found",this.vappdetails="",this.vappnotfound=!0)}}else if(this.$refs.vappnamephone.value>""){var r=this.$refs.vappnamephone.value;if(document.getElementById("infoMenu").classList.remove("disabled"),navigator.onLine)this.runBackgroundTasks(),Object(o["a"])("/api/vapp/vappdetails/"+this.$refs.vappnamephone.value+"/"+a+"/"+e).then((function(e){t.vappdetails=e.data,t.searchvapp=!0,422==e.data.code?(t.searchvapp=!1,t.vappnotfound=!0,t.vappinfo=t.$refs.vappnamephone.value):(t.vappnotfound=!1,t.vappinfo=""),t.isProcessing=!1})).catch((function(e){422===e.code&&e.response.data&&(t.error=e.response.data.error,422==e.response.data.error.code&&(t.vappnotfound=!0,t.vappinfo=t.$refs.vappnamephone.value),t.flashMessage.error({title:"Error",message:e.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}})),t.isProcessing=!1}));else if(localStorage.getItem("vappalldetails")){var l=JSON.parse(localStorage.getItem("vappalldetails"));i=l.filter((function(t,e){return t["event_id"]==a&&(t["vehicle_index_number"]==r||t["vapp_sn"]==r||t["driver_name"]==r||t["driver_phone"]==r)}));i.length>0?(this.vappdetails=i,this.searchvapp=!0,this.vappnotfound=!1,this.vappinfo=""):(this.searchvapp=!1,this.vappinfo="No Matching VAPP found",this.vappdetails="",this.vappnotfound=!0)}}},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t?"valid":"invalid",t},resetModal:function(){this.body="",this.nameState=null},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this,e=this.vappdetails[0].event_id,a=this.$route.params.compound_id,s=this.vappdetails[0].id;this.vappdetails[0].team_id,this.vappdetails[0].user_id;Object(o["a"])("/api/vapp/reportconflict/"+e+"/"+a+"/"+s+"/"+this.body).then((function(e){200==e.data.status?(t.reportconflictfound=!0,t.vappinfo=e.data.SuccessMessage):(t.reportconflictfound=!0,t.vappinfo=e.data.ErrorMessage),t.isProcessing=!1,t.$refs["modal"].hide()})).catch((function(e){422===e.status&&e.response&&(t.error=e.response.data.ErrorMessage,422==e.response.data.status&&(t.vappnotfound=!0,t.vappinfo=response.data.ErrorMessage),t.flashMessage.error({title:"Error",message:e.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}})),t.isProcessing=!1,t.$refs["modal"].hide()}))},logout:function(){var t=this;$("[data-dismiss=modal]").trigger({type:"click"}),i["a"].set("","",""),Object(o["a"])("/api/logout").then((function(e){e.data.logged_out&&(i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"}))})).catch((function(e){i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"})}))},goToInfo:function(){this.$router.push({name:"info",params:{com_name:this.com_name,event_id:this.$route.params.event_id,event_name:this.$route.params.event_name,additionalInfo:this.$route.params.additionalInfo,vappdetails:this.vappdetails,compound_id:this.$route.params.compound_id,disableReport:!1}})},goToEvents:function(){this.$router.push({name:"Events"})},getDateFormat:function(t){if(null!=t){var e=new Date(t),a=new Date(e);return this.formatAMPM(a)+" "+a.getMonth()+"/"+a.getDate()+"/"+a.getFullYear()}},formatAMPM:function(t){var e=t.getHours(),a=t.getMinutes(),s=e>=12?"PM":"AM";e%=12,e=e||12,a=a<10?"0"+a:a;var n=e+":"+a+" "+s;return n},getAllVappsDetails:function(){var t=this;navigator.onLine&&Object(o["a"])("/api/vapp/vappalldetails").then((function(t){localStorage.setItem("vappalldetails",JSON.stringify(t.data))})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}})}))},runBackgroundTasks:function(){var t=this;if(navigator.onLine){if(localStorage.getItem("backgroundTasks")){var e=JSON.parse(localStorage.getItem("backgroundTasks"));e.length>0&&e.forEach((function(t,a){null!=t&&Object(o["a"])("/api/vapp/vapp_compound_status/"+e[a].event_id+"/"+e[a].compound_id+"/"+e[a].vapp_id+"/"+e[a].body+"/"+e[a].vapp_compound_status).then((function(t){200!=t.data.status&&422!=t.data.status||(e[a]=null,localStorage.setItem("backgroundTasks",JSON.stringify(e)))})).catch((function(t){}))}))}if(localStorage.getItem("backgroundConflictTasks")){var a=JSON.parse(localStorage.getItem("backgroundConflictTasks"));a.length>0&&a.forEach((function(t,e){null!=t&&"N"==a[e].status&&Object(o["a"])("/api/vapp/reportconflict/"+a[e].event_id+"/"+a[e].compound_id+"/"+a[e].vapp_id+"/"+a[e].body).then((function(t){200!=t.data.status&&422!=t.data.status||(a[e].status="Y",localStorage.setItem("backgroundConflictTasks",JSON.stringify(a)))})).catch((function(t){}))}))}Object(o["a"])("/api/vapp/vappalldetails").then((function(t){localStorage.setItem("vappalldetails",JSON.stringify(t.data))})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}})}))}},keymonitor:function(t){this.search(this.$refs.vappsearch.value).length<1?this.searchnamephone(this.$refs.vappnamephone.value).length<1?document.getElementById("btnSearchForVapp").disabled=!0:document.getElementById("btnSearchForVapp").disabled=!1:this.searchnamephone(this.$refs.vappnamephone.value).length<1&&this.search(this.$refs.vappsearch.value).length<1?document.getElementById("btnSearchForVapp").disabled=!0:document.getElementById("btnSearchForVapp").disabled=!1,this.vappnotfound=!1,this.reportconflictfound=!1}}}),d=c,u=(a("cce0"),a("2877")),p=Object(u["a"])(d,s,n,!1,null,"77885ad4",null);e["default"]=p.exports},"2d69":function(t,e,a){"use strict";var s=a("a720"),n=a.n(s);n.a},"2fdb":function(t,e,a){"use strict";var s=a("5ca1"),n=a("d2c8"),i="includes";s(s.P+s.F*a("5147")(i),"String",{includes:function(t){return!!~n(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"386d":function(t,e,a){"use strict";var s=a("cb7c"),n=a("83a1"),i=a("5f1b");a("214f")("search",1,(function(t,e,a,o){return[function(a){var s=t(this),n=void 0==a?void 0:a[e];return void 0!==n?n.call(a,s):new RegExp(a)[e](String(s))},function(t){var e=o(a,t,this);if(e.done)return e.value;var r=s(t),l=String(this),c=r.lastIndex;n(c,0)||(r.lastIndex=0);var d=i(r,l);return n(r.lastIndex,c)||(r.lastIndex=c),null===d?-1:d.index}]}))},"3fd1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"content-container"},[a("div",{staticClass:"flex-grow-1 justify-content-center d-flex flex-column h-100"},[a("FlashMessage",{staticClass:"flashmessage"}),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[1==t.searchvapp?a("div",[a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{attrs:{title:"VAPP",active:""}},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            EVENT NAME\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].event_code))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            COMPOUND INFO\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].vapp_sn))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            STATUS\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].id))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            VALID TO/FROM\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].valid_from))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            DRIVER NAMES(S)\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].drivers))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            VEHICLE INFO\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].original_replacement))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            REG NUMBER\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].vehicle_index_number))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            VAPP CODE\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].vapp_sn))])])])])]),a("b-tab",{attrs:{title:"INFO"}},[a("b-card-text",[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            EVENT NAME\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].event_code))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            COMPOUND INFO\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].vapp_sn))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            STATUS\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].id))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            VALID TO/FROM\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].valid_from))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            DRIVER NAMES(S)\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].drivers))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            VEHICLE INFO\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].original_replacement))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            REG NUMBER\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].vehicle_index_number))])])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v("\n                            VAPP CODE\n                            "),a("h5",[a("span",{staticClass:"badge badge-pill"},[t._v(t._s(t.vappdetails[0].vapp_sn))])])])])])],1)],1)],1)],1):t._e(),a("autocomplete",{ref:"vappsearch",attrs:{search:t.search,placeholder:"Registeration Number","aria-label":"Registeration Number"},on:{blur:t.getvapp}})],1)])],1)]),a("ul",{staticClass:"nav nav-bottom fixed-bottom nav-pills nav-justified"},[t._m(0),t._m(1),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[a("i",{staticClass:"fas fa-sign-out-alt icon"}),a("span",{staticClass:"text"},[t._v("Logout")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("i",{staticClass:"fas fa-search icon"}),a("span",{staticClass:"text"},[t._v("Search")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("i",{staticClass:"fas fa-info-circle icon"}),a("span",{staticClass:"text"},[t._v("Info")])])])}],i=(a("f559"),a("d16d")),o=a("88a1"),r=a("c074"),l=(a("e428"),new Date),c=(new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),{data:function(){return{form:{email:"",password:""},isLoading:!1,fullPage:!0,searchvapp:!1,myIcon:r["f"],myIcon1:r["d"],myIcon2:r["e"],error:{},name:"",vapps:[],vals:"",vappdetails:[],vehicle_index_number:[],isProcessing:!1}},created:function(){},methods:{search:function(t){return t.length<1?[]:this.vehicle_index_number.filter((function(e){return e.toLowerCase().startsWith(t.toLowerCase())}))},getvapp:function(){var t=this;this.isProcessing=!0,this.error={},Object(o["a"])("/api/vapp/vappdetails/"+this.$refs.vappsearch.value).then((function(e){t.vappdetails=e.data,t.searchvapp=!0,t.isProcessing=!1})).catch((function(e){422===e.code&&e.response.data&&(t.error=e.response.data.error,t.flashMessage.error({title:"Error",message:e.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}})),t.isProcessing=!1}))},logout:function(){var t=this;i["a"].set("","",""),Object(o["a"])("/api/logout").then((function(e){e.data.logged_out&&(i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"}))})).catch((function(e){i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"})}))}}}),d=c,u=(a("2d69"),a("2877")),p=Object(u["a"])(d,s,n,!1,null,"0db0f4a9",null);e["default"]=p.exports},"4ac2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("FlashMessage",{staticClass:"flashmessage"}),a("div",{staticClass:"content-container"},[a("div",{},[t._m(0),a("div",{staticClass:"container-fluid flex-grow-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("ul",{staticClass:"list-group mb-3"},t._l(t.compounds,(function(e){return a("li",{staticClass:"list-group-item event-list py-5",class:{active:t.isSelected(e.id)},on:{click:function(a){return t.goToSearch(e.id,e.name)}}},[t._v("\n                  "+t._s(e.name)+"\n                  "),a("i",{staticClass:"fas fa-angle-right icon"})])})),0)])])])]),a("ul",{staticClass:"nav nav-bottom fixed-bottom nav-pills nav-justified"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.goToEvents}},[a("i",{staticClass:"fas fa-search icon"}),a("span",{staticClass:"text"},[t._v("Search")])])]),a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link",attrs:{id:"infoMenu"},on:{click:t.goToInfo}},[a("i",{staticClass:"fas fa-info-circle icon"}),a("span",{staticClass:"text"},[t._v("Info")])])]),t._m(1)])]),a("div",{ref:"logoutmodal",staticClass:"modal fade",attrs:{id:"logoutModal",tabindex:"-1",role:"dialog","aria-labelledby":"logoutModalLabel","aria-hidden":"false"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("h5",{staticClass:"modal-title",attrs:{id:"logoutModalLabel"}},[t._v("Log Out")]),a("p",[t._v("You are logging out of VAPP.")]),a("div",{staticClass:"form"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("Log Out")])])])]),t._m(2)])])])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid flex-grow-0 bg-gradient p-4 mb-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h5",[t._v("Select Car Park")]),a("p",{staticClass:"mb-0"},[t._v("Below are this events car parks. Select the car park which you are currently assigned.")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal","data-target":"#logoutModal",href:"#logoutModal"}},[a("i",{staticClass:"fas fa-sign-out-alt icon"}),a("span",{staticClass:"text"},[t._v("Logout")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])}],i=(a("ac6a"),a("f559"),a("d16d")),o=a("88a1"),r=a("c074"),l=(a("e428"),new Date),c=(new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),{data:function(){return{form:{email:"",password:""},selected:0,dis:!0,isLoading:!1,fullPage:!0,searchvapp:!1,myIcon:r["f"],myIcon1:r["d"],myIcon2:r["e"],myIcon3:r["a"],error:{},name:"",vapps:[],vals:"",vappdetails:[],compounds:[],isProcessing:!1}},created:function(){var t=this;if(this.isProcessing=!0,this.error={},i["a"].state.api_token&&i["a"].state.user_id)if(navigator.onLine)Object(o["a"])("/api/vapp/getcompoundsofevent/"+this.$route.params.event_id).then((function(e){t.compounds=e.data,t.dis=!0;var a="comp#"+t.$route.params.event_id;if(localStorage.setItem(a,JSON.stringify(e.data)),!localStorage.getItem("cacheLoaded")){for(var s=function(e){Object(o["a"])("/api/vapp/cache/"+t.$route.params.event_id+"/"+t.compounds[e].id).then((function(a){var s="vapps#"+t.$route.params.event_id+"=>com"+t.compounds[e].id;localStorage.setItem(s,JSON.stringify(a.data))})).catch((function(t){}))},n=0;n<t.compounds.length;n++)s(n);localStorage.setItem("cacheLoaded",!0)}})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}}),t.$router.push({path:"/#/events"})})),Object(o["a"])("/api/vapp/vappalldetails").then((function(t){localStorage.setItem("vappalldetails",JSON.stringify(t.data))})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}})})),this.isProcessing=!1;else{var e="comp#"+this.$route.params.event_id;localStorage.getItem(e)&&(this.compounds=JSON.parse(localStorage.getItem(e)))}else console.log("sorry here"),this.$router.push({path:"/login"});this.runBackgroundTasks()},methods:{isSelected:function(t){return t===this.selected},search:function(t){return t.length<1?[]:this.vehicle_index_number.filter((function(e){return e.toLowerCase().startsWith(t.toLowerCase())}))},runBackgroundTasks:function(){if(navigator.onLine){if(localStorage.getItem("backgroundTasks")){var t=JSON.parse(localStorage.getItem("backgroundTasks"));t.length>0&&t.forEach((function(e,a){null!=e&&Object(o["a"])("/api/vapp/vapp_compound_status/"+t[a].event_id+"/"+t[a].compound_id+"/"+t[a].vapp_id+"/"+t[a].body+"/"+t[a].vapp_compound_status).then((function(e){200!=e.data.status&&422!=e.data.status||(t[a]=null,localStorage.setItem("backgroundTasks",JSON.stringify(t)))})).catch((function(t){}))}))}if(localStorage.getItem("backgroundConflictTasks")){var e=JSON.parse(localStorage.getItem("backgroundConflictTasks"));e.length>0&&e.forEach((function(t,a){null!=t&&"N"==e[a].status&&Object(o["a"])("/api/vapp/reportconflict/"+e[a].event_id+"/"+e[a].compound_id+"/"+e[a].vapp_id+"/"+e[a].body).then((function(t){200!=t.data.status&&422!=t.data.status||(e[a].status="Y",localStorage.setItem("backgroundConflictTasks",JSON.stringify(e)))})).catch((function(t){}))}))}}},logout:function(){var t=this;console.log("button clicked"),$("[data-dismiss=modal]").trigger({type:"click"}),i["a"].set("","",""),$("[data-dismiss=modal]").trigger({type:"click"}),Object(o["a"])("/api/logout").then((function(e){e.data.logged_out&&(i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"}))})).catch((function(e){i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"})}))},goToSearch:function(t,e){this.selected=t,this.dis=!1,this.$router.push({name:"Search",params:{com_name:e,event_id:this.$route.params.event_id,additionalInfo:this.$route.params.additionalInfo,event_name:this.$route.params.event_name,compound_id:t}})},goToEvents:function(){this.$router.push({name:"Events"})},goToInfo:function(){this.$router.push({name:"info",params:{disableReport:!0}})}}}),d=c,u=(a("86de"),a("2877")),p=Object(u["a"])(d,s,n,!1,null,"6f2b3416",null);e["default"]=p.exports},5147:function(t,e,a){var s=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,!"/./"[t](e)}catch(n){}}return!0}},"520a":function(t,e,a){"use strict";var s=a("0bfb"),n=RegExp.prototype.exec,i=String.prototype.replace,o=n,r="lastIndex",l=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[r]||0!==e[r]}(),c=void 0!==/()??/.exec("")[1],d=l||c;d&&(o=function(t){var e,a,o,d,u=this;return c&&(a=new RegExp("^"+u.source+"$(?!\\s)",s.call(u))),l&&(e=u[r]),o=n.call(u,t),l&&o&&(u[r]=u.global?o.index+o[0].length:e),c&&o&&o.length>1&&i.call(o[0],a,(function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(o[d]=void 0)})),o}),t.exports=o},"5f1b":function(t,e,a){"use strict";var s=a("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==s(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},6762:function(t,e,a){"use strict";var s=a("5ca1"),n=a("c366")(!0);s(s.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"6b7a":function(t,e,a){"use strict";var s=a("9848"),n=a.n(s);n.a},"70be":function(t,e,a){"use strict";var s=a("1893"),n=a.n(s);n.a},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"86de":function(t,e,a){"use strict";var s=a("0c8e"),n=a.n(s);n.a},"8f75":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column justify-content-center h-100 splashMain"},[s("div",{staticClass:"splashscreendiv"},[s("img",{staticClass:"img-fluid mx-auto d-block splash-logo",attrs:{src:a("cf05"),alt:"logo"}})])])}],i={data:function(){return{display:"none"}},created:function(){localStorage.removeItem("site_settings"),setTimeout(function(){this.$router.push({path:"/login"})}.bind(this),3e3)}},o=i,r=(a("c265"),a("2877")),l=Object(r["a"])(o,s,n,!1,null,"d3f81ed6",null);e["default"]=l.exports},9848:function(t,e,a){},a481:function(t,e,a){"use strict";var s=a("cb7c"),n=a("4bf8"),i=a("9def"),o=a("4588"),r=a("0390"),l=a("5f1b"),c=Math.max,d=Math.min,u=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,m){return[function(s,n){var i=t(this),o=void 0==s?void 0:s[e];return void 0!==o?o.call(s,i,n):a.call(String(i),s,n)},function(t,e){var n=m(a,t,this,e);if(n.done)return n.value;var u=s(t),p=String(this),v="function"===typeof e;v||(e=String(e));var g=u.global;if(g){var b=u.unicode;u.lastIndex=0}var _=[];while(1){var C=l(u,p);if(null===C)break;if(_.push(C),!g)break;var y=String(C[0]);""===y&&(u.lastIndex=r(p,i(u.lastIndex),b))}for(var S="",k=0,w=0;w<_.length;w++){C=_[w];for(var x=String(C[0]),E=c(d(o(C.index),p.length),0),$=[],I=1;I<C.length;I++)$.push(f(C[I]));var M=C.groups;if(v){var O=[x].concat($,E,p);void 0!==M&&O.push(M);var T=String(e.apply(void 0,O))}else T=h(x,p,E,$,M,e);E>=k&&(S+=p.slice(k,E)+T,k=E+x.length)}return S+p.slice(k)}];function h(t,e,s,i,o,r){var l=s+t.length,c=i.length,d=v;return void 0!==o&&(o=n(o),d=p),a.call(r,d,(function(a,n){var r;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(l);case"<":r=o[n.slice(1,-1)];break;default:var d=+n;if(0===d)return a;if(d>c){var p=u(d/10);return 0===p?a:p<=c?void 0===i[p-1]?n.charAt(1):i[p-1]+n.charAt(1):a}r=i[d-1]}return void 0===r?"":r}))}}))},a55b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"d-flex flex-column h-100 "},[a("div",{staticClass:"container-fluid pt-5"},[a("div",{staticClass:"row justify-content-center form-align"},[a("div",{staticClass:"col-11"},[a("form",{attrs:{id:"login-form"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"form-group mb-4"},[a("label",[t._v("User Name")]),a("b-form-input",{attrs:{type:"text",placeholder:"Username",name:"email",id:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("div",{staticClass:"form-group mb-5"},[a("label",[t._v("Password")]),a("b-form-input",{attrs:{type:"password",placeholder:"Password",name:"password",id:"pass"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("div",{staticClass:"mt"},[a("b-button",{attrs:{block:"",variant:"primary",type:"submit",disabled:t.isProcessing}},[t._v("Logon")])],1),0!==Object.keys(t.error).length?a("small",{staticClass:"error__control"},[t._v(t._s(t.error))]):t._e(),a("br")])])])])]),a("FlashMessage",{staticClass:"flashmessage",attrs:{position:"right bottom"}})],1)},n=[],i=(a("a481"),a("6762"),a("2fdb"),a("d16d")),o=a("88a1"),r={state:{success:null,error:null},setSuccess:function(t){var e=this;this.state.success=t,setTimeout((function(){e.removeSuccess()}),3e3)},setError:function(t){var e=this;this.state.error=t,setTimeout((function(){e.removeError()}),1e4)},removeSuccess:function(){this.state.success=null},removeError:function(){this.state.error=null}},l={data:function(){return{form:{email:"",password:""},error:{},isProcessing:!1,res_message:"",auth:null,status:null}},created:function(){""!==i["a"].state.api_token&&null!==i["a"].state.api_token?this.$router.push({path:"/events"}):(i["a"].set("","",""),this.$router.push({path:"/login"})),i["a"].state.error&&(this.error=i["a"].state.error.includes("+")?i["a"].state.error.replace(/\+/gi," "):i["a"].state.error)},computed:{},methods:{login:function(){var t=this;this.isProcessing=!0,this.error={},Object(o["b"])("/api/login",this.form).then((function(e){e.data.authenticated&&(i["a"].set(e.data.api_token,e.data.user_id),r.setSuccess("You have successfully logged in!"),t.auth=i["a"],t.status=r,setTimeout(function(){this.$router.push({path:"/events"})}.bind(t),2e3)),t.isProcessing=!1})).catch((function(e){t.isProcessing=!1,e.response.data.error&&t.flashMessage.error({title:"Error",message:e.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"linear-gradient(#e66465, #9198e5)"}}),e.response.data.errors&&("undefined"!==typeof e.response.data.errors.email&&""!==e.response.data.errors.email[0]&&(t.res_message=e.response.data.errors.email[0]),"undefined"!==typeof e.response.data.errors.password&&""!==e.response.data.errors.password[0]&&(t.res_message=e.response.data.errors.password[0]),"undefined"!==typeof e.response.data.errors.email&&"undefined"!==typeof e.response.data.errors.password&&""!==e.response.data.errors.email[0]&&""!==e.response.data.errors.password[0]&&(t.res_message="Email and password fields are required"),t.flashMessage.error({title:"Error",message:""!==t.res_message?t.res_message:e.response.data.errors,time:5e3,flashMessageStyle:{backgroundColor:"linear-gradient(#e66465, #9198e5)"}})),t.isProcessing=!1}))},onCancel:function(){console.log("User cancelled the loader.")}}},c=l,d=(a("d6db"),a("2877")),u=Object(d["a"])(c,s,n,!1,null,null,null);e["default"]=u.exports},a720:function(t,e,a){},aa9c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("FlashMessage",{staticClass:"flashmessage"}),a("div",{staticClass:"content-container"},[a("div",{},[t._m(0),a("div",{staticClass:"container-fluid flex-grow-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("ul",{staticClass:"list-group mb-3"},t._l(t.events,(function(e){return a("li",{staticClass:"list-group-item event-list py-5",class:{active:t.isSelected(e.id)},on:{click:function(a){return t.goToSearch(e.id,e.additional_information,e.event_name)}}},[t._v("\n                      "+t._s(e.event_name)+"\n                        "),a("i",{staticClass:"fas fa-angle-right icon"})])})),0)])])])]),a("ul",{staticClass:"nav nav-bottom fixed-bottom nav-pills nav-justified"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link disabled",attrs:{to:"/events"}},[a("i",{staticClass:"fas fa-search icon"}),a("span",{staticClass:"text"},[t._v("Search")])])],1),a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link",attrs:{id:"infoMenu"},on:{click:t.goToInfo}},[a("i",{staticClass:"fas fa-info-circle icon"}),a("span",{staticClass:"text"},[t._v("Info")])])]),t._m(1)])]),a("div",{ref:"logoutmodal",staticClass:"modal fade",attrs:{id:"logoutModal",tabindex:"-1",role:"dialog","aria-labelledby":"logoutModalLabel","aria-hidden":"false"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("h5",{staticClass:"modal-title",attrs:{id:"logoutModalLabel"}},[t._v("Log Out")]),a("p",[t._v("You are logging out of VAPP.")]),a("div",{staticClass:"form"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("Log Out")])])])]),t._m(2)])])])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid flex-grow-0 bg-gradient p-4 mb-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h5",[t._v("Select Event")]),a("p",{staticClass:"mb-0"},[t._v("Below are the events for which you have been approved. To begin scanning, tap the event you are currently working.")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"modal","data-target":"#logoutModal",href:"#logoutModal"}},[a("i",{staticClass:"fas fa-sign-out-alt icon"}),a("span",{staticClass:"text"},[t._v("Logout")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-11"},[a("button",{staticClass:"btn btn-block btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])}],i=(a("ac6a"),a("f559"),a("d16d")),o=a("88a1"),r=a("c074"),l=(a("e428"),new Date),c=(new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),{data:function(){return{form:{email:"",password:""},selected:0,dis:!0,isLoading:!1,fullPage:!0,searchvapp:!1,myIcon:r["f"],myIcon1:r["d"],myIcon2:r["e"],myIcon3:r["a"],error:{},name:"",vapps:[],vals:"",vappdetails:[],events:[],isProcessing:!1}},created:function(){var t=this;this.isProcessing=!0,this.error={},i["a"].state.api_token&&i["a"].state.user_id?navigator.onLine?(Object(o["a"])("/api/vapp/events").then((function(e){t.events=e.data,t.dis=!0,localStorage.setItem("events",JSON.stringify(e.data))})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}})})),Object(o["a"])("/api/vapp/vappalldetails").then((function(t){localStorage.setItem("vappalldetails",JSON.stringify(t.data))})).catch((function(e){t.flashMessage.error({title:"Error",message:"Something went wront please try again later",time:5e3,flashMessageStyle:{backgroundColor:"#C91F40"}})})),this.isProcessing=!1):localStorage.getItem("events")&&(this.events=JSON.parse(localStorage.getItem("events"))):(console.log("sorry here"),this.$router.push({path:"/login"})),this.runBackgroundTasks()},methods:{isSelected:function(t){return t===this.selected},search:function(t){return t.length<1?[]:this.vehicle_index_number.filter((function(e){return e.toLowerCase().startsWith(t.toLowerCase())}))},runBackgroundTasks:function(){if(navigator.onLine){if(localStorage.getItem("backgroundTasks")){var t=JSON.parse(localStorage.getItem("backgroundTasks"));t.length>0&&t.forEach((function(e,a){null!=e&&Object(o["a"])("/api/vapp/vapp_compound_status/"+t[a].event_id+"/"+t[a].compound_id+"/"+t[a].vapp_id+"/"+t[a].body+"/"+t[a].vapp_compound_status).then((function(e){200!=e.data.status&&422!=e.data.status||(t[a]=null,localStorage.setItem("backgroundTasks",JSON.stringify(t)))})).catch((function(t){}))}))}if(localStorage.getItem("backgroundConflictTasks")){var e=JSON.parse(localStorage.getItem("backgroundConflictTasks"));e.length>0&&e.forEach((function(t,a){null!=t&&"N"==e[a].status&&Object(o["a"])("/api/vapp/reportconflict/"+e[a].event_id+"/"+e[a].compound_id+"/"+e[a].vapp_id+"/"+e[a].body).then((function(t){200!=t.data.status&&422!=t.data.status||(e[a].status="Y",localStorage.setItem("backgroundConflictTasks",JSON.stringify(e)))})).catch((function(t){}))}))}}},getvapp:function(){var t=this;this.isProcessing=!0,this.error={},Object(o["a"])("/api/vapp/vappdetails/"+this.$refs.vappsearch.value).then((function(e){t.vappdetails=e.data,t.searchvapp=!0,t.isProcessing=!1})).catch((function(e){422===e.code&&e.response.data&&(t.error=e.response.data.error,t.flashMessage.error({title:"Error",message:e.response.data.error,time:5e3,flashMessageStyle:{backgroundColor:"#43d787"}})),t.isProcessing=!1}))},logout:function(){var t=this;console.log("button clicked"),$("[data-dismiss=modal]").trigger({type:"click"}),i["a"].set("","",""),$("[data-dismiss=modal]").trigger({type:"click"}),Object(o["a"])("/api/logout").then((function(e){e.data.logged_out&&(i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"}))})).catch((function(e){i["a"].set("","",""),i["a"].remove(),t.$router.push({path:"/login"})}))},goToSearch:function(t,e,a){this.selected=t,this.dis=!1,this.$router.push({name:"compounds",params:{event_id:t,additionalInfo:e,event_name:a}})},goToInfo:function(){this.$router.push({name:"info",params:{disableReport:!0}})}}}),d=c,u=(a("6b7a"),a("2877")),p=Object(u["a"])(d,s,n,!1,null,"5b69f8a6",null);e["default"]=p.exports},aae3:function(t,e,a){var s=a("d3f4"),n=a("2d95"),i=a("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==n(t))}},ac6a:function(t,e,a){for(var s=a("cadf"),n=a("0d58"),i=a("2aba"),o=a("7726"),r=a("32e9"),l=a("84f2"),c=a("2b4c"),d=c("iterator"),u=c("toStringTag"),p=l.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(v),m=0;m<f.length;m++){var h,g=f[m],b=v[g],_=o[g],C=_&&_.prototype;if(C&&(C[d]||r(C,d,p),C[u]||r(C,u,g),l[g]=p,b))for(h in s)C[h]||i(C,h,s[h],!0)}},b0c5:function(t,e,a){"use strict";var s=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},c265:function(t,e,a){"use strict";var s=a("2af9"),n=a.n(s);n.a},cce0:function(t,e,a){"use strict";var s=a("1cb6"),n=a.n(s);n.a},cd1c:function(t,e,a){var s=a("e853");t.exports=function(t,e){return new(s(t))(e)}},cf05:function(t,e,a){t.exports=a.p+"img/logo.11c53fbd.png"},d2c8:function(t,e,a){var s=a("aae3"),n=a("be13");t.exports=function(t,e,a){if(s(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(t))}},d6db:function(t,e,a){"use strict";var s=a("e67a"),n=a.n(s);n.a},e67a:function(t,e,a){},e853:function(t,e,a){var s=a("d3f4"),n=a("1169"),i=a("2b4c")("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),s(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},f559:function(t,e,a){"use strict";var s=a("5ca1"),n=a("9def"),i=a("d2c8"),o="startsWith",r=""[o];s(s.P+s.F*a("5147")(o),"String",{startsWith:function(t){var e=i(this,t,o),a=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),s=String(t);return r?r.call(e,s,a):e.slice(a,a+s.length)===s}})}}]);
//# sourceMappingURL=about.8339b309.js.map